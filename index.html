<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@700&display=swap" rel="stylesheet">
  <title>Frontend Mentor | Tip calculator app</title>

  <!-- Feel free to remove these styles or customise in your own stylesheet ðŸ‘ -->
  <style>
    .attribution { font-size: 11px; text-align: center; }
    .attribution a { color: hsl(228, 45%, 44%); }
    body {background: hsl(185, 41%, 84%);}
    .main {font-family: 'Space Mono';}
  </style>
</head>
<body>
  <div class="mainnlogo lg:mt-[10vh] mt-[5vh]">
    <img src="images/logo.svg" alt="" class="justify-center m-auto pb-[5vh]">
    <div class="main lg:flex lg:flex-row lg:justify-between p-5 h-4xl bg-white lg:w-[768px] justify-center m-auto w-full rounded-2xl">
      <div class="inputs lg:w-[25vw]">
        <div class="title">
          <label for="bill" class="text-gray-400">Bill</label>
        </div>
        <div class="bill-input w-full">
          <input type="number" id='billInput' name="bill" class="border w-full text-2xl border-gray-200 rounded-sm border-solid p-1 pl-[1.5rem] outline-none" style="background: url(images/icon-dollar.svg) hsl(189, 47%, 97%) no-repeat center left; background-position: 0.5rem;">
        </div>
        <div class="choose mt-[5vh]">
          <div class="select-tip-title text-gray-400 pb-[2.5vh]">
            Select Tip %
          </div>
          <div class="selects grid grid-cols-2 gap-1">
            <div class="select-tip-5">
              <button type="button" onclick='setPercent(5)' class="rounded-lg bg-emerald-900 p-2 text-white w-full hover:bg-emerald-400 hover:text-green-900 active:bg-emerald-600">5%</button>
            </div>
            <div class="select-tip-10">
              <button onclick='setPercent(10)' class="rounded-lg bg-emerald-900 p-2 text-white w-full hover:bg-emerald-400 hover:text-green-900 active:bg-emerald-600">10%</button>
            </div>
            <div class="select-tip-15">
              <button onclick='setPercent(15)' class="rounded-lg bg-emerald-900 p-2 text-white w-full hover:bg-emerald-400 hover:text-green-900 active:bg-emerald-600">15%</button>
            </div>
            <div class="select-tip-25">
              <button onclick='setPercent(25)' class="rounded-lg bg-emerald-900 p-2 text-white w-full hover:bg-emerald-400 hover:text-green-900 active:bg-emerald-600">25%</button>
            </div>
            <div class="select-tip-50">
              <button onclick='setPercent(50)' class="rounded-lg bg-emerald-900 p-2 text-white w-full hover:bg-emerald-400 hover:text-green-900 active:bg-emerald-600">50%</button>
            </div>
            <div class="select-tip-custom">
              <input id="customTip" oninput="setPercent(this.value)" type="number" class="rounded-lg bg-emerald-900 p-2 text-white w-full hover:bg-emerald-400 hover:text-green-900 text-center active:bg-emerald-600" placeholder="Custom">
            </div>
          </div>
        </div>
        <div class="number w-full mt-[2.5vh]">
          <div class="labels flex justify-between">
            <label for="people" class="text-gray-400">Number of People</label>
            <p id='zero' class="text-red-600 text-right hidden">Can't be zero</p>
          </div>
          <!-- border-red-600 -->
          <input type="number" id="numberOfPeople" name="people" class="border text-2xl w-full border-gray-200 rounded-sm border-solid p-1 pl-[2rem] outline-none" style="background: url(images/icon-person.svg) hsl(189, 47%, 97%) no-repeat center left; background-position: 0.5rem;">
        </div>
      </div>
      <div class="result lg:w-[25vw] lg:ml-[2vw] bg-emerald-900 rounded-lg lg:mt-0 mt-[2.5vh] text-2xl p-3 text-white grid grid-cols-2 gap-1">
        <div class="amount text-sm mt-[0.5vh]">
          <p>Tip Amount</p>
          <p class="text-gray-400 text-xs">/ person</p><br>
        </div>
        <div class="amount-cash text-center text-emerald-400 mt-[1vh]">
          <p id="amount">$0.00</p>
        </div>
        <div class="total text-sm mt-[1vh]">
          <p>Total</p>
          <p class="text-gray-400 text-xs">/ person</p>
        </div>
        <div class="total-cash text-center text-emerald-400 mt-[2vh]">
          <p id="total">$0.00</p>
        </div>
        <div class="reset bg-emerald-900 text-emerald-400 border-emerald-400 border-solid border-[2px] hover:bg-emerald-400 hover:text-emerald-900 text-center justify-center m-auto p-3 lg:mt-[15vh] mt-[2vh] rounded-lg" style="width: 202%;">
          <button onclick="reset()" style="width: 100%">Reset</button>
        </div>
      </div>
      
    </div>
  </div>
  <div class="attribution hidden">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
    Coded by <a href="#">Your Name Here</a>.
  </div>
  <script type="text/javascript">
    let percent = 0.05;
    const billInput = document.getElementById('billInput');
    const numberOfPeople = document.getElementById("numberOfPeople");
    const textAmount = document.getElementById("amount");
    const textTotal = document.getElementById("total");
    const customTip = document.getElementById("customTip");
    const zeroPeople =  document.getElementById('zero');
    


    function update(){
      const billValue = parseFloat(billInput.value) || 0;
      const peopleValue = parseFloat(numberOfPeople.value) || 1;
      const customTipValue = parseInt(customTip.value) || 5;
      let amount = ((billValue * percent) / peopleValue).toFixed(2);
      let total = ((billValue + (billValue * percent)) / peopleValue).toFixed(2);
      textAmount.textContent = '$' + amount;
      textTotal.textContent = '$' + total;
    }
    function setPercent(percentValue){
      percentValue = percentValue / 100;
      percent = percentValue;
      update();
    }
    function reset(){
      billInput.value = 0;
      numberOfPeople.value = 1;
      update();
    }
    function checkZero(){
      if (numberOfPeople.value <= 0){
        numberOfPeople.classList.remove("border-gray-200");
        numberOfPeople.classList.add("border-red-600");
        zeroPeople.classList.remove("hidden");
      }
      else{
        update();
        numberOfPeople.classList.add("border-gray-200");
        numberOfPeople.classList.remove("border-red-600");
        zeroPeople.classList.add("hidden");
      }
    }

    document.addEventListener('DOMContentLoaded', function() {
      update();
      billInput.addEventListener('input', update);
      numberOfPeople.addEventListener('input', checkZero);
      customTip.addEventListener('input', update);
      // numberOfPeople.addEventListener('input', function(){
      // switch(this.value){
      //  case '0':
      //    zeroPeople.classList.replace("border-gray-200", "border-red-600");
    // }});
    })
    // percent.addEventListener('change', update);
    

  </script>
</body>
</html>
